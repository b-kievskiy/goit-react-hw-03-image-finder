(this["webpackJsonphomework-3.2"]=this["webpackJsonphomework-3.2"]||[]).push([[0],{11:function(e,t,a){e.exports=a(38)},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),c=a.n(o),i=a(6),s=a(2),l=a(3),u=a(5),m=a(4),h=a(9),g=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={search:""},e.onChange=function(t){e.setState(Object(h.a)({},t.target.name,t.target.value))},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.search),e.setState((function(t){return e.state.search=""}))},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.search;return r.a.createElement("header",{className:"Searchbar"},r.a.createElement("form",{className:"SearchForm",onSubmit:this.handleSubmit},r.a.createElement("button",{type:"submit",className:"SearchForm-button"},r.a.createElement("span",{className:"SearchForm-button-label"},"Search")),r.a.createElement("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,name:"search",value:e,placeholder:"Search images and photos",onChange:this.onChange})))}}]),a}(n.Component);var d=function(e){var t=e.webFormatURL,a=e.largeImageURL;return r.a.createElement("li",{className:"ImageGalleryItem"},r.a.createElement("img",{src:t,alt:"","data-src":a,className:"ImageGalleryItem-image"}))},f=a(1),p=a.n(f);function b(e){var t=e.url,a=e.modalClick;return r.a.createElement("div",{className:"Overlay",onClick:a},r.a.createElement("div",{className:"Modal"},r.a.createElement("img",{src:t,alt:""})))}b.propType={url:p.a.string.isRequired,onClick:p.a.string.isRequired};var y=b,v=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={isModal:!1,src:""},e.openModal=function(){return e.setState({isModal:!0})},e.closeModal=function(){return e.setState({isModal:!1})},e.handleKeyPress=function(t){"Escape"===t.code&&e.closeModal()},e.itemClick=function(t){if("IMG"===t.target.nodeName){var a=t.target.dataset.src;e.setState({src:a}),e.openModal()}},e.modalClick=function(t){"DIV"===t.currentTarget.nodeName&&"IMG"===t.target.nodeName||e.closeModal()},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keypdown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props.imageArray,t=this.state,a=t.isModal,n=t.src;return r.a.createElement(r.a.Fragment,null,a?r.a.createElement(y,{url:n,modalClick:this.modalClick}):r.a.createElement("ul",{className:"ImageGallery",onClick:this.itemClick},e.map((function(e){var t=e.id,a=e.webformatURL,n=e.largeImageURL;return r.a.createElement(d,{key:t,webFormatURL:a,largeImageURL:n})}))))}}]),a}(n.Component);var k=function(e){var t=e.btnClick;return r.a.createElement("button",{className:"Button",onClick:t},"Load more")},E=a(10),S=a.n(E),w=function(){return r.a.createElement(S.a,{type:"Puff",color:"#25dfdf",height:640,width:640,timeout:3e3,className:"loader"})},L=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={imagesList:[],query:"grass",page:1,isLoading:!1},e.onSubmit=function(t){e.setState({query:t,page:1,imagesList:[]})},e.btnClick=function(){e.setState((function(e){return{page:e.page+1}}))},e.scrollDown=function(){window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getImages()}},{key:"componentDidUpdate",value:function(e,t){t.query===this.state.query&&t.page===this.state.page||this.getImages()}},{key:"getImages",value:function(){var e=this,t=this.state,a=t.query,n=t.page,r="https://pixabay.com/api/?q=".concat(a,"&page=").concat(n,"&key=").concat("16012564-983777c468f78516fc9320c6b","&image_type=photo&orientation=horizontal&per_page=12");this.setState({isLoading:!0}),fetch(r).then((function(e){return e.json()})).then((function(e){return e.hits.map((function(e){return{id:e.id,webformatURL:e.webformatURL,largeImageURL:e.largeImageURL}}))})).then((function(t){return e.setState((function(e){return{imagesList:[].concat(Object(i.a)(e.imagesList),Object(i.a)(t))}})),t})).then((function(t){return e.scrollDown()})).catch((function(e){return console.log("Error = ",e)})).finally((function(){return e.setState({isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.imagesList,a=e.isLoading;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{onSubmit:this.onSubmit}),r.a.createElement(v,{imageArray:t}),a&&r.a.createElement(w,null),r.a.createElement(k,{btnClick:this.btnClick}))}}]),a}(n.Component);a(37);c.a.render(r.a.createElement(L,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.260bb2a1.chunk.js.map